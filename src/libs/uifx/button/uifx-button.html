<button
  uifxButton
  [type]="type()"
  [severity]="effectiveSeverity()"
  [variant]="effectiveVariant()"
  [size]="effectiveSize()"
  [disabled]="disabled()"
  [loading]="loading()"
  [hasStartIcon]="hasStartIcon()"
  [hasEndIcon]="hasEndIcon()"
  [iconOnly]="iconOnly()"
  [rounded]="effectiveRounded()"
  [badge]="badge()"
  (click)="onClick.emit($event)"
>
  @if (loading() || tplStart() || hasDirectiveStart() || _startIcon() || iconStart() || icon()) {
    <span [class.uifx-spin]="loading()" class="uifx-btn-icon--start">
      @if (loading()) {
        <i class="fa-solid fa-spinner fa-spin"></i>
      } @else if (tplStart()) {
        <ng-container *ngTemplateOutlet="tplStart()!"></ng-container>
      } @else if (hasDirectiveStart()) {
        <ng-content select="[uifxButtonIconStart]"></ng-content>
      } @else if (_startIcon()) {
        <ng-container *ngTemplateOutlet="_startIcon()!"></ng-container>
      } @else {
        <i [class]="iconStart()! || icon()!"></i>
      }
    </span>
  }

  @if (!iconOnly()) {
    @if (tplLabel()) {
      <ng-container *ngTemplateOutlet="tplLabel()!"></ng-container>
    } @else if (_label()) {
      <ng-container *ngTemplateOutlet="_label()!"></ng-container>
    } @else if (hasDirectiveLabel()) {
      <ng-content select="[uifxButtonLabel]"></ng-content>
    } @else if (label()) {
      <span class="uifx-btn--label">
        {{ label() }}
      </span>
    } @else {
      <span class="uifx-btn--label">
        <ng-content></ng-content>
      </span>
    }
  }
  @if (badge() || tplBadge() || hasDirectiveBadge() || _badge()) {
    @if (tplBadge()) {
      <ng-container *ngTemplateOutlet="tplBadge()!"></ng-container>
    } @else if (_badge()) {
      <ng-container *ngTemplateOutlet="_badge()!"></ng-container>
    } @else if (hasDirectiveBadge()) {
      <ng-content select="[uifxButtonBadge]"></ng-content>
    } @else {
      <span class="uifx-btn--badge">
        {{ badge() }}
      </span>
    }
  }

  @if (!loading() && (tplEnd() || hasDirectiveEnd() || _endIcon() || iconEnd())) {
    @if (tplEnd()) {
      <ng-container *ngTemplateOutlet="tplEnd()!"></ng-container>
    } @else if (hasDirectiveEnd()) {
      <ng-content select="[uifxButtonIconEnd]"></ng-content>
    } @else if (_endIcon()) {
      <ng-container *ngTemplateOutlet="_endIcon()!"></ng-container>
    } @else {
      <span class="uifx-btn-icon--end">
        <i [class]="iconEnd()!"></i>
      </span>
    }
  }
</button>
